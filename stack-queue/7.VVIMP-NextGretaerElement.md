## Next Greater Element Using Stack


Problem Statement: Given a circular integer array A, return the next greater element for every element in A. The next greater element for an element x is the first element greater than x that we come across while traversing the array in a clockwise manner. If it doesn't exist, return -1 for this element.

Examples:

Example 1: 

Input: N = 11, A[] = {3,10,4,2,1,2,6,1,7,2,9}

Output: 10,-1,6,6,2,6,7,7,9,9,10

Explanation: For the first element in A ,i.e, 3, the greater element which comes next to it while traversing and is closest to it is 10. Hence,10 is present on index 0 in the resultant array. Now for the second element,i.e, 10, there is no greater number and hence -1 is itâ€™s next greater element (NGE). Similarly, we got the NGEs for all other elements present in A.  


Example 2:

Input:  N = 6, A[] = {5,7,1,7,6,0}

Output: 7,-1,7,-1,7,5


```swift
    func nextGreaterElements(_ nums: [Int] ) -> [Int] {
        var counter = ( nums.count * 2 ) - 1
        var stack = StackArray<Int>()
        var res = Array(repeating: -1, count: nums.count)
                
        while (counter >= 0) {
            let index = counter % nums.count
            let element = nums[index]
            if stack.count == 0 {
                stack.push(element)
                res[index] = -1
            } else {
                let top = stack.top!
                if top > element {
                    stack.push(element)
                    res[index] = top
                } else {
                    while ( stack.count >= 1 &&  stack.top! <= element ) {
                        stack.pop()
                    }
                    if stack.elements.isEmpty {
                        stack.push(element)
                        res[index] = -1
                    } else {
                        res[index] = stack.top!
                        stack.push(element)
                    }
                }
            }
            
            counter -= 1
        }
        print("final res \(res)")
        return res
    }

```

AI genearated 

```swift
class Solution {
    func nextGreaterElements(_ nums: [Int]) -> [Int] {
        let n = nums.count
        var res = Array(repeating: -1, count: n)
        var stack = [Int]() // will store indices, not values

        for i in stride(from: 2*n-1, through: 0, by: -1) {
            let idx = i % n
            let val = nums[idx]

            // maintain decreasing stack
            while let last = stack.last, nums[last] <= val {
                stack.removeLast()
            }

            if i < n, let last = stack.last {
                res[idx] = nums[last]
            }

            stack.append(idx)
        }
        return res
    }
}

```